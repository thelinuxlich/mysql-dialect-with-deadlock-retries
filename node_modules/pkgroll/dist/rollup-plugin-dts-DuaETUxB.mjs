var He=Object.defineProperty;var v=(p,e)=>He(p,"name",{value:e,configurable:!0});import{createRequire as Xe}from"node:module";const de=Xe(import.meta.url);import*as w from"path";import l from"typescript";import Ye from"tty";import Je from"os";import{createRequire as Qe}from"module";import Ze from"magic-string";var q={},_={},W={},ge;function et(){return ge||(ge=1,Object.defineProperty(W,"__esModule",{value:!0}),W.default=/((['"])(?:(?!\2|\\).|\\(?:\r\n|[\s\S]))*(\2)?|`(?:[^`\\$]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{[^}]*\}?)*\}?)*(`)?)|(\/\/.*)|(\/\*(?:[^*]|\*(?!\/))*(\*\/)?)|(\/(?!\*)(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\]\\]).|\\.)+\/(?:(?!\s*(?:\b|[\u0080-\uFFFF$\\'"~({]|[+\-!](?!=)|\.?\d))|[gmiyus]{1,6}\b(?![\u0080-\uFFFF$\\]|\s*(?:[+\-*%&|^<>!=?({]|\/(?![\/*])))))|(0[xX][\da-fA-F]+|0[oO][0-7]+|0[bB][01]+|(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?)|((?!\d)(?:(?!\s)[$\w\u0080-\uFFFF]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+)|(--|\+\+|&&|\|\||=>|\.{3}|(?:[+\-\/%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2})=?|[?~.,:;[\](){}])|(\s+)|(^$|[\s\S])/g,W.matchToToken=function(p){var e={type:"invalid",value:p[0],closed:void 0};return p[1]?(e.type="string",e.closed=!!(p[3]||p[4])):p[5]?e.type="comment":p[6]?(e.type="comment",e.closed=!!p[7]):p[8]?e.type="regex":p[9]?e.type="number":p[10]?e.type="name":p[11]?e.type="punctuator":p[12]&&(e.type="whitespace"),e}),W}v(et,"requireJsTokens");var ee={},j={},ve;function tt(){if(ve)return j;ve=1,Object.defineProperty(j,"__esModule",{value:!0}),j.isIdentifierChar=n,j.isIdentifierName=i,j.isIdentifierStart=m;let p="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",e="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65";const r=new RegExp("["+p+"]"),u=new RegExp("["+p+e+"]");p=e=null;const c=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],A=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239];function f(t,s){let o=65536;for(let d=0,a=s.length;d<a;d+=2){if(o+=s[d],o>t)return!1;if(o+=s[d+1],o>=t)return!0}return!1}v(f,"isInAstralSet");function m(t){return t<65?t===36:t<=90?!0:t<97?t===95:t<=122?!0:t<=65535?t>=170&&r.test(String.fromCharCode(t)):f(t,c)}v(m,"isIdentifierStart");function n(t){return t<48?t===36:t<58?!0:t<65?!1:t<=90?!0:t<97?t===95:t<=122?!0:t<=65535?t>=170&&u.test(String.fromCharCode(t)):f(t,c)||f(t,A)}v(n,"isIdentifierChar");function i(t){let s=!0;for(let o=0;o<t.length;o++){let d=t.charCodeAt(o);if((d&64512)===55296&&o+1<t.length){const a=t.charCodeAt(++o);(a&64512)===56320&&(d=65536+((d&1023)<<10)+(a&1023))}if(s){if(s=!1,!m(d))return!1}else if(!n(d))return!1}return!s}return v(i,"isIdentifierName"),j}v(tt,"requireIdentifier");var M={},ye;function rt(){if(ye)return M;ye=1,Object.defineProperty(M,"__esModule",{value:!0}),M.isKeyword=n,M.isReservedWord=c,M.isStrictBindOnlyReservedWord=f,M.isStrictBindReservedWord=m,M.isStrictReservedWord=A;const p={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},e=new Set(p.keyword),r=new Set(p.strict),u=new Set(p.strictBind);function c(i,t){return t&&i==="await"||i==="enum"}v(c,"isReservedWord");function A(i,t){return c(i,t)||r.has(i)}v(A,"isStrictReservedWord");function f(i){return u.has(i)}v(f,"isStrictBindOnlyReservedWord");function m(i,t){return A(i,t)||f(i)}v(m,"isStrictBindReservedWord");function n(i){return e.has(i)}return v(n,"isKeyword"),M}v(rt,"requireKeyword");var Ae;function nt(){return Ae||(Ae=1,function(p){Object.defineProperty(p,"__esModule",{value:!0}),Object.defineProperty(p,"isIdentifierChar",{enumerable:!0,get:v(function(){return e.isIdentifierChar},"get")}),Object.defineProperty(p,"isIdentifierName",{enumerable:!0,get:v(function(){return e.isIdentifierName},"get")}),Object.defineProperty(p,"isIdentifierStart",{enumerable:!0,get:v(function(){return e.isIdentifierStart},"get")}),Object.defineProperty(p,"isKeyword",{enumerable:!0,get:v(function(){return r.isKeyword},"get")}),Object.defineProperty(p,"isReservedWord",{enumerable:!0,get:v(function(){return r.isReservedWord},"get")}),Object.defineProperty(p,"isStrictBindOnlyReservedWord",{enumerable:!0,get:v(function(){return r.isStrictBindOnlyReservedWord},"get")}),Object.defineProperty(p,"isStrictBindReservedWord",{enumerable:!0,get:v(function(){return r.isStrictBindReservedWord},"get")}),Object.defineProperty(p,"isStrictReservedWord",{enumerable:!0,get:v(function(){return r.isStrictReservedWord},"get")});var e=tt(),r=rt()}(ee)),ee}v(nt,"requireLib$2");var U={exports:{}},Ce;function Fe(){if(Ce)return U.exports;Ce=1;let p=process.argv||[],e=process.env,r=!("NO_COLOR"in e||p.includes("--no-color"))&&("FORCE_COLOR"in e||p.includes("--color")||process.platform==="win32"||de!=null&&Ye.isatty(1)&&e.TERM!=="dumb"||"CI"in e),u=v((f,m,n=f)=>i=>{let t=""+i,s=t.indexOf(m,f.length);return~s?f+c(t,m,n,s)+m:f+t+m},"formatter"),c=v((f,m,n,i)=>{let t="",s=0;do t+=f.substring(s,i)+n,s=i+m.length,i=f.indexOf(m,s);while(~i);return t+f.substring(s)},"replaceClose"),A=v((f=r)=>{let m=f?u:()=>String;return{isColorSupported:f,reset:m("\x1B[0m","\x1B[0m"),bold:m("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:m("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:m("\x1B[3m","\x1B[23m"),underline:m("\x1B[4m","\x1B[24m"),inverse:m("\x1B[7m","\x1B[27m"),hidden:m("\x1B[8m","\x1B[28m"),strikethrough:m("\x1B[9m","\x1B[29m"),black:m("\x1B[30m","\x1B[39m"),red:m("\x1B[31m","\x1B[39m"),green:m("\x1B[32m","\x1B[39m"),yellow:m("\x1B[33m","\x1B[39m"),blue:m("\x1B[34m","\x1B[39m"),magenta:m("\x1B[35m","\x1B[39m"),cyan:m("\x1B[36m","\x1B[39m"),white:m("\x1B[37m","\x1B[39m"),gray:m("\x1B[90m","\x1B[39m"),bgBlack:m("\x1B[40m","\x1B[49m"),bgRed:m("\x1B[41m","\x1B[49m"),bgGreen:m("\x1B[42m","\x1B[49m"),bgYellow:m("\x1B[43m","\x1B[49m"),bgBlue:m("\x1B[44m","\x1B[49m"),bgMagenta:m("\x1B[45m","\x1B[49m"),bgCyan:m("\x1B[46m","\x1B[49m"),bgWhite:m("\x1B[47m","\x1B[49m")}},"createColors");return U.exports=A(),U.exports.createColors=A,U.exports}v(Fe,"requirePicocolors");var te={exports:{}},re,Ee;function it(){if(Ee)return re;Ee=1;var p=/[|\\{}()[\]^$+*?.]/g;return re=v(function(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(p,"\\$&")},"escapeStringRegexp"),re}v(it,"requireEscapeStringRegexp");var H={exports:{}},ne={exports:{}},ie,be;function st(){return be||(be=1,ie={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),ie}v(st,"requireColorName");var xe;function De(){if(xe)return ne.exports;xe=1;var p=st(),e={};for(var r in p)p.hasOwnProperty(r)&&(e[p[r]]=r);var u=ne.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var c in u)if(u.hasOwnProperty(c)){if(!("channels"in u[c]))throw new Error("missing channels property: "+c);if(!("labels"in u[c]))throw new Error("missing channel labels property: "+c);if(u[c].labels.length!==u[c].channels)throw new Error("channel and label counts mismatch: "+c);var A=u[c].channels,f=u[c].labels;delete u[c].channels,delete u[c].labels,Object.defineProperty(u[c],"channels",{value:A}),Object.defineProperty(u[c],"labels",{value:f})}u.rgb.hsl=function(n){var i=n[0]/255,t=n[1]/255,s=n[2]/255,o=Math.min(i,t,s),d=Math.max(i,t,s),a=d-o,h,y,g;return d===o?h=0:i===d?h=(t-s)/a:t===d?h=2+(s-i)/a:s===d&&(h=4+(i-t)/a),h=Math.min(h*60,360),h<0&&(h+=360),g=(o+d)/2,d===o?y=0:g<=.5?y=a/(d+o):y=a/(2-d-o),[h,y*100,g*100]},u.rgb.hsv=function(n){var i,t,s,o,d,a=n[0]/255,h=n[1]/255,y=n[2]/255,g=Math.max(a,h,y),F=g-Math.min(a,h,y),C=v(function(E){return(g-E)/6/F+1/2},"diffc");return F===0?o=d=0:(d=F/g,i=C(a),t=C(h),s=C(y),a===g?o=s-t:h===g?o=1/3+i-s:y===g&&(o=2/3+t-i),o<0?o+=1:o>1&&(o-=1)),[o*360,d*100,g*100]},u.rgb.hwb=function(n){var i=n[0],t=n[1],s=n[2],o=u.rgb.hsl(n)[0],d=1/255*Math.min(i,Math.min(t,s));return s=1-1/255*Math.max(i,Math.max(t,s)),[o,d*100,s*100]},u.rgb.cmyk=function(n){var i=n[0]/255,t=n[1]/255,s=n[2]/255,o,d,a,h;return h=Math.min(1-i,1-t,1-s),o=(1-i-h)/(1-h)||0,d=(1-t-h)/(1-h)||0,a=(1-s-h)/(1-h)||0,[o*100,d*100,a*100,h*100]};function m(n,i){return Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2)+Math.pow(n[2]-i[2],2)}return v(m,"comparativeDistance"),u.rgb.keyword=function(n){var i=e[n];if(i)return i;var t=1/0,s;for(var o in p)if(p.hasOwnProperty(o)){var d=p[o],a=m(n,d);a<t&&(t=a,s=o)}return s},u.keyword.rgb=function(n){return p[n]},u.rgb.xyz=function(n){var i=n[0]/255,t=n[1]/255,s=n[2]/255;i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,s=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92;var o=i*.4124+t*.3576+s*.1805,d=i*.2126+t*.7152+s*.0722,a=i*.0193+t*.1192+s*.9505;return[o*100,d*100,a*100]},u.rgb.lab=function(n){var i=u.rgb.xyz(n),t=i[0],s=i[1],o=i[2],d,a,h;return t/=95.047,s/=100,o/=108.883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,d=116*s-16,a=500*(t-s),h=200*(s-o),[d,a,h]},u.hsl.rgb=function(n){var i=n[0]/360,t=n[1]/100,s=n[2]/100,o,d,a,h,y;if(t===0)return y=s*255,[y,y,y];s<.5?d=s*(1+t):d=s+t-s*t,o=2*s-d,h=[0,0,0];for(var g=0;g<3;g++)a=i+1/3*-(g-1),a<0&&a++,a>1&&a--,6*a<1?y=o+(d-o)*6*a:2*a<1?y=d:3*a<2?y=o+(d-o)*(2/3-a)*6:y=o,h[g]=y*255;return h},u.hsl.hsv=function(n){var i=n[0],t=n[1]/100,s=n[2]/100,o=t,d=Math.max(s,.01),a,h;return s*=2,t*=s<=1?s:2-s,o*=d<=1?d:2-d,h=(s+t)/2,a=s===0?2*o/(d+o):2*t/(s+t),[i,a*100,h*100]},u.hsv.rgb=function(n){var i=n[0]/60,t=n[1]/100,s=n[2]/100,o=Math.floor(i)%6,d=i-Math.floor(i),a=255*s*(1-t),h=255*s*(1-t*d),y=255*s*(1-t*(1-d));switch(s*=255,o){case 0:return[s,y,a];case 1:return[h,s,a];case 2:return[a,s,y];case 3:return[a,h,s];case 4:return[y,a,s];case 5:return[s,a,h]}},u.hsv.hsl=function(n){var i=n[0],t=n[1]/100,s=n[2]/100,o=Math.max(s,.01),d,a,h;return h=(2-t)*s,d=(2-t)*o,a=t*o,a/=d<=1?d:2-d,a=a||0,h/=2,[i,a*100,h*100]},u.hwb.rgb=function(n){var i=n[0]/360,t=n[1]/100,s=n[2]/100,o=t+s,d,a,h,y;o>1&&(t/=o,s/=o),d=Math.floor(6*i),a=1-s,h=6*i-d,(d&1)!==0&&(h=1-h),y=t+h*(a-t);var g,F,C;switch(d){default:case 6:case 0:g=a,F=y,C=t;break;case 1:g=y,F=a,C=t;break;case 2:g=t,F=a,C=y;break;case 3:g=t,F=y,C=a;break;case 4:g=y,F=t,C=a;break;case 5:g=a,F=t,C=y;break}return[g*255,F*255,C*255]},u.cmyk.rgb=function(n){var i=n[0]/100,t=n[1]/100,s=n[2]/100,o=n[3]/100,d,a,h;return d=1-Math.min(1,i*(1-o)+o),a=1-Math.min(1,t*(1-o)+o),h=1-Math.min(1,s*(1-o)+o),[d*255,a*255,h*255]},u.xyz.rgb=function(n){var i=n[0]/100,t=n[1]/100,s=n[2]/100,o,d,a;return o=i*3.2406+t*-1.5372+s*-.4986,d=i*-.9689+t*1.8758+s*.0415,a=i*.0557+t*-.204+s*1.057,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,d=d>.0031308?1.055*Math.pow(d,1/2.4)-.055:d*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a*12.92,o=Math.min(Math.max(0,o),1),d=Math.min(Math.max(0,d),1),a=Math.min(Math.max(0,a),1),[o*255,d*255,a*255]},u.xyz.lab=function(n){var i=n[0],t=n[1],s=n[2],o,d,a;return i/=95.047,t/=100,s/=108.883,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,o=116*t-16,d=500*(i-t),a=200*(t-s),[o,d,a]},u.lab.xyz=function(n){var i=n[0],t=n[1],s=n[2],o,d,a;d=(i+16)/116,o=t/500+d,a=d-s/200;var h=Math.pow(d,3),y=Math.pow(o,3),g=Math.pow(a,3);return d=h>.008856?h:(d-16/116)/7.787,o=y>.008856?y:(o-16/116)/7.787,a=g>.008856?g:(a-16/116)/7.787,o*=95.047,d*=100,a*=108.883,[o,d,a]},u.lab.lch=function(n){var i=n[0],t=n[1],s=n[2],o,d,a;return o=Math.atan2(s,t),d=o*360/2/Math.PI,d<0&&(d+=360),a=Math.sqrt(t*t+s*s),[i,a,d]},u.lch.lab=function(n){var i=n[0],t=n[1],s=n[2],o,d,a;return a=s/360*2*Math.PI,o=t*Math.cos(a),d=t*Math.sin(a),[i,o,d]},u.rgb.ansi16=function(n){var i=n[0],t=n[1],s=n[2],o=1 in arguments?arguments[1]:u.rgb.hsv(n)[2];if(o=Math.round(o/50),o===0)return 30;var d=30+(Math.round(s/255)<<2|Math.round(t/255)<<1|Math.round(i/255));return o===2&&(d+=60),d},u.hsv.ansi16=function(n){return u.rgb.ansi16(u.hsv.rgb(n),n[2])},u.rgb.ansi256=function(n){var i=n[0],t=n[1],s=n[2];if(i===t&&t===s)return i<8?16:i>248?231:Math.round((i-8)/247*24)+232;var o=16+36*Math.round(i/255*5)+6*Math.round(t/255*5)+Math.round(s/255*5);return o},u.ansi16.rgb=function(n){var i=n%10;if(i===0||i===7)return n>50&&(i+=3.5),i=i/10.5*255,[i,i,i];var t=(~~(n>50)+1)*.5,s=(i&1)*t*255,o=(i>>1&1)*t*255,d=(i>>2&1)*t*255;return[s,o,d]},u.ansi256.rgb=function(n){if(n>=232){var i=(n-232)*10+8;return[i,i,i]}n-=16;var t,s=Math.floor(n/36)/5*255,o=Math.floor((t=n%36)/6)/5*255,d=t%6/5*255;return[s,o,d]},u.rgb.hex=function(n){var i=((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255),t=i.toString(16).toUpperCase();return"000000".substring(t.length)+t},u.hex.rgb=function(n){var i=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!i)return[0,0,0];var t=i[0];i[0].length===3&&(t=t.split("").map(function(h){return h+h}).join(""));var s=parseInt(t,16),o=s>>16&255,d=s>>8&255,a=s&255;return[o,d,a]},u.rgb.hcg=function(n){var i=n[0]/255,t=n[1]/255,s=n[2]/255,o=Math.max(Math.max(i,t),s),d=Math.min(Math.min(i,t),s),a=o-d,h,y;return a<1?h=d/(1-a):h=0,a<=0?y=0:o===i?y=(t-s)/a%6:o===t?y=2+(s-i)/a:y=4+(i-t)/a+4,y/=6,y%=1,[y*360,a*100,h*100]},u.hsl.hcg=function(n){var i=n[1]/100,t=n[2]/100,s=1,o=0;return t<.5?s=2*i*t:s=2*i*(1-t),s<1&&(o=(t-.5*s)/(1-s)),[n[0],s*100,o*100]},u.hsv.hcg=function(n){var i=n[1]/100,t=n[2]/100,s=i*t,o=0;return s<1&&(o=(t-s)/(1-s)),[n[0],s*100,o*100]},u.hcg.rgb=function(n){var i=n[0]/360,t=n[1]/100,s=n[2]/100;if(t===0)return[s*255,s*255,s*255];var o=[0,0,0],d=i%1*6,a=d%1,h=1-a,y=0;switch(Math.floor(d)){case 0:o[0]=1,o[1]=a,o[2]=0;break;case 1:o[0]=h,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=a;break;case 3:o[0]=0,o[1]=h,o[2]=1;break;case 4:o[0]=a,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=h}return y=(1-t)*s,[(t*o[0]+y)*255,(t*o[1]+y)*255,(t*o[2]+y)*255]},u.hcg.hsv=function(n){var i=n[1]/100,t=n[2]/100,s=i+t*(1-i),o=0;return s>0&&(o=i/s),[n[0],o*100,s*100]},u.hcg.hsl=function(n){var i=n[1]/100,t=n[2]/100,s=t*(1-i)+.5*i,o=0;return s>0&&s<.5?o=i/(2*s):s>=.5&&s<1&&(o=i/(2*(1-s))),[n[0],o*100,s*100]},u.hcg.hwb=function(n){var i=n[1]/100,t=n[2]/100,s=i+t*(1-i);return[n[0],(s-i)*100,(1-s)*100]},u.hwb.hcg=function(n){var i=n[1]/100,t=n[2]/100,s=1-t,o=s-i,d=0;return o<1&&(d=(s-o)/(1-o)),[n[0],o*100,d*100]},u.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]},u.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]},u.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]},u.gray.hsl=u.gray.hsv=function(n){return[0,0,n[0]]},u.gray.hwb=function(n){return[0,100,n[0]]},u.gray.cmyk=function(n){return[0,0,0,n[0]]},u.gray.lab=function(n){return[n[0],0,0]},u.gray.hex=function(n){var i=Math.round(n[0]/100*255)&255,t=(i<<16)+(i<<8)+i,s=t.toString(16).toUpperCase();return"000000".substring(s.length)+s},u.rgb.gray=function(n){var i=(n[0]+n[1]+n[2])/3;return[i/255*100]},ne.exports}v(De,"requireConversions");var se,Be;function ut(){if(Be)return se;Be=1;var p=De();function e(){for(var A={},f=Object.keys(p),m=f.length,n=0;n<m;n++)A[f[n]]={distance:-1,parent:null};return A}v(e,"buildGraph");function r(A){var f=e(),m=[A];for(f[A].distance=0;m.length;)for(var n=m.pop(),i=Object.keys(p[n]),t=i.length,s=0;s<t;s++){var o=i[s],d=f[o];d.distance===-1&&(d.distance=f[n].distance+1,d.parent=n,m.unshift(o))}return f}v(r,"deriveBFS");function u(A,f){return function(m){return f(A(m))}}v(u,"link");function c(A,f){for(var m=[f[A].parent,A],n=p[f[A].parent][A],i=f[A].parent;f[i].parent;)m.unshift(f[i].parent),n=u(p[f[i].parent][i],n),i=f[i].parent;return n.conversion=m,n}return v(c,"wrapConversion"),se=v(function(A){for(var f=r(A),m={},n=Object.keys(f),i=n.length,t=0;t<i;t++){var s=n[t],o=f[s];o.parent!==null&&(m[s]=c(s,f))}return m},"route"),se}v(ut,"requireRoute");var ue,we;function at(){if(we)return ue;we=1;var p=De(),e=ut(),r={},u=Object.keys(p);function c(f){var m=v(function(n){return n==null?n:(arguments.length>1&&(n=Array.prototype.slice.call(arguments)),f(n))},"wrappedFn");return"conversion"in f&&(m.conversion=f.conversion),m}v(c,"wrapRaw");function A(f){var m=v(function(n){if(n==null)return n;arguments.length>1&&(n=Array.prototype.slice.call(arguments));var i=f(n);if(typeof i=="object")for(var t=i.length,s=0;s<t;s++)i[s]=Math.round(i[s]);return i},"wrappedFn");return"conversion"in f&&(m.conversion=f.conversion),m}return v(A,"wrapRounded"),u.forEach(function(f){r[f]={},Object.defineProperty(r[f],"channels",{value:p[f].channels}),Object.defineProperty(r[f],"labels",{value:p[f].labels});var m=e(f),n=Object.keys(m);n.forEach(function(i){var t=m[i];r[f][i]=A(t),r[f][i].raw=c(t)})}),ue=r,ue}v(at,"requireColorConvert"),H.exports;var Se;function ot(){return Se||(Se=1,function(p){const e=at(),r=v((f,m)=>function(){return`\x1B[${f.apply(e,arguments)+m}m`},"wrapAnsi16"),u=v((f,m)=>function(){const n=f.apply(e,arguments);return`\x1B[${38+m};5;${n}m`},"wrapAnsi256"),c=v((f,m)=>function(){const n=f.apply(e,arguments);return`\x1B[${38+m};2;${n[0]};${n[1]};${n[2]}m`},"wrapAnsi16m");function A(){const f=new Map,m={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};m.color.grey=m.color.gray;for(const t of Object.keys(m)){const s=m[t];for(const o of Object.keys(s)){const d=s[o];m[o]={open:`\x1B[${d[0]}m`,close:`\x1B[${d[1]}m`},s[o]=m[o],f.set(d[0],d[1])}Object.defineProperty(m,t,{value:s,enumerable:!1}),Object.defineProperty(m,"codes",{value:f,enumerable:!1})}const n=v(t=>t,"ansi2ansi"),i=v((t,s,o)=>[t,s,o],"rgb2rgb");m.color.close="\x1B[39m",m.bgColor.close="\x1B[49m",m.color.ansi={ansi:r(n,0)},m.color.ansi256={ansi256:u(n,0)},m.color.ansi16m={rgb:c(i,0)},m.bgColor.ansi={ansi:r(n,10)},m.bgColor.ansi256={ansi256:u(n,10)},m.bgColor.ansi16m={rgb:c(i,10)};for(let t of Object.keys(e)){if(typeof e[t]!="object")continue;const s=e[t];t==="ansi16"&&(t="ansi"),"ansi16"in s&&(m.color.ansi[t]=r(s.ansi16,0),m.bgColor.ansi[t]=r(s.ansi16,10)),"ansi256"in s&&(m.color.ansi256[t]=u(s.ansi256,0),m.bgColor.ansi256[t]=u(s.ansi256,10)),"rgb"in s&&(m.color.ansi16m[t]=c(s.rgb,0),m.bgColor.ansi16m[t]=c(s.rgb,10))}return m}v(A,"assembleStyles"),Object.defineProperty(p,"exports",{enumerable:!0,get:A})}(H)),H.exports}v(ot,"requireAnsiStyles");var ae,Te;function lt(){return Te||(Te=1,ae=v((p,e)=>{e=e||process.argv;const r=p.startsWith("-")?"":p.length===1?"-":"--",u=e.indexOf(r+p),c=e.indexOf("--");return u!==-1&&(c===-1?!0:u<c)},"hasFlag")),ae}v(lt,"requireHasFlag");var oe,Ne;function ct(){if(Ne)return oe;Ne=1;const p=Je,e=lt(),r=process.env;let u;e("no-color")||e("no-colors")||e("color=false")?u=!1:(e("color")||e("colors")||e("color=true")||e("color=always"))&&(u=!0),"FORCE_COLOR"in r&&(u=r.FORCE_COLOR.length===0||parseInt(r.FORCE_COLOR,10)!==0);function c(m){return m===0?!1:{level:m,hasBasic:!0,has256:m>=2,has16m:m>=3}}v(c,"translateLevel");function A(m){if(u===!1)return 0;if(e("color=16m")||e("color=full")||e("color=truecolor"))return 3;if(e("color=256"))return 2;if(m&&!m.isTTY&&u!==!0)return 0;const n=u?1:0;if(process.platform==="win32"){const i=p.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(i[0])>=10&&Number(i[2])>=10586?Number(i[2])>=14931?3:2:1}if("CI"in r)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(i=>i in r)||r.CI_NAME==="codeship"?1:n;if("TEAMCITY_VERSION"in r)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(r.TEAMCITY_VERSION)?1:0;if(r.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in r){const i=parseInt((r.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(r.TERM_PROGRAM){case"iTerm.app":return i>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(r.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(r.TERM)||"COLORTERM"in r?1:(r.TERM==="dumb",n)}v(A,"supportsColor");function f(m){const n=A(m);return c(n)}return v(f,"getSupportLevel"),oe={supportsColor:f,stdout:f(process.stdout),stderr:f(process.stderr)},oe}v(ct,"requireSupportsColor");var le,Oe;function pt(){if(Oe)return le;Oe=1;const p=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,e=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,r=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,u=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,c=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function A(i){return i[0]==="u"&&i.length===5||i[0]==="x"&&i.length===3?String.fromCharCode(parseInt(i.slice(1),16)):c.get(i)||i}v(A,"unescape");function f(i,t){const s=[],o=t.trim().split(/\s*,\s*/g);let d;for(const a of o)if(!isNaN(a))s.push(Number(a));else if(d=a.match(r))s.push(d[2].replace(u,(h,y,g)=>y?A(y):g));else throw new Error(`Invalid Chalk template style argument: ${a} (in style '${i}')`);return s}v(f,"parseArguments");function m(i){e.lastIndex=0;const t=[];let s;for(;(s=e.exec(i))!==null;){const o=s[1];if(s[2]){const d=f(o,s[2]);t.push([o].concat(d))}else t.push([o])}return t}v(m,"parseStyle");function n(i,t){const s={};for(const d of t)for(const a of d.styles)s[a[0]]=d.inverse?null:a.slice(1);let o=i;for(const d of Object.keys(s))if(Array.isArray(s[d])){if(!(d in o))throw new Error(`Unknown Chalk style: ${d}`);s[d].length>0?o=o[d].apply(o,s[d]):o=o[d]}return o}return v(n,"buildStyle"),le=v((i,t)=>{const s=[],o=[];let d=[];if(t.replace(p,(a,h,y,g,F,C)=>{if(h)d.push(A(h));else if(g){const E=d.join("");d=[],o.push(s.length===0?E:n(i,s)(E)),s.push({inverse:y,styles:m(g)})}else if(F){if(s.length===0)throw new Error("Found extraneous } in Chalk template literal");o.push(n(i,s)(d.join(""))),d=[],s.pop()}else d.push(C)}),o.push(d.join("")),s.length>0){const a=`Chalk template literal is missing ${s.length} closing bracket${s.length===1?"":"s"} (\`}\`)`;throw new Error(a)}return o.join("")},"templates"),le}v(pt,"requireTemplates");var ke;function ft(){return ke||(ke=1,function(p){const e=it(),r=ot(),u=ct().stdout,c=pt(),A=process.platform==="win32"&&!(process.env.TERM||"").toLowerCase().startsWith("xterm"),f=["ansi","ansi","ansi256","ansi16m"],m=new Set(["gray"]),n=Object.create(null);function i(h,y){y=y||{};const g=u?u.level:0;h.level=y.level===void 0?g:y.level,h.enabled="enabled"in y?y.enabled:h.level>0}v(i,"applyOptions");function t(h){if(!this||!(this instanceof t)||this.template){const y={};return i(y,h),y.template=function(){const g=[].slice.call(arguments);return a.apply(null,[y.template].concat(g))},Object.setPrototypeOf(y,t.prototype),Object.setPrototypeOf(y.template,y),y.template.constructor=t,y.template}i(this,h)}v(t,"Chalk"),A&&(r.blue.open="\x1B[94m");for(const h of Object.keys(r))r[h].closeRe=new RegExp(e(r[h].close),"g"),n[h]={get(){const y=r[h];return o.call(this,this._styles?this._styles.concat(y):[y],this._empty,h)}};n.visible={get(){return o.call(this,this._styles||[],!0,"visible")}},r.color.closeRe=new RegExp(e(r.color.close),"g");for(const h of Object.keys(r.color.ansi))m.has(h)||(n[h]={get(){const y=this.level;return function(){const F={open:r.color[f[y]][h].apply(null,arguments),close:r.color.close,closeRe:r.color.closeRe};return o.call(this,this._styles?this._styles.concat(F):[F],this._empty,h)}}});r.bgColor.closeRe=new RegExp(e(r.bgColor.close),"g");for(const h of Object.keys(r.bgColor.ansi)){if(m.has(h))continue;const y="bg"+h[0].toUpperCase()+h.slice(1);n[y]={get(){const g=this.level;return function(){const C={open:r.bgColor[f[g]][h].apply(null,arguments),close:r.bgColor.close,closeRe:r.bgColor.closeRe};return o.call(this,this._styles?this._styles.concat(C):[C],this._empty,h)}}}}const s=Object.defineProperties(()=>{},n);function o(h,y,g){const F=v(function(){return d.apply(F,arguments)},"builder");F._styles=h,F._empty=y;const C=this;return Object.defineProperty(F,"level",{enumerable:!0,get(){return C.level},set(E){C.level=E}}),Object.defineProperty(F,"enabled",{enumerable:!0,get(){return C.enabled},set(E){C.enabled=E}}),F.hasGrey=this.hasGrey||g==="gray"||g==="grey",F.__proto__=s,F}v(o,"build");function d(){const h=arguments,y=h.length;let g=String(arguments[0]);if(y===0)return"";if(y>1)for(let C=1;C<y;C++)g+=" "+h[C];if(!this.enabled||this.level<=0||!g)return this._empty?"":g;const F=r.dim.open;A&&this.hasGrey&&(r.dim.open="");for(const C of this._styles.slice().reverse())g=C.open+g.replace(C.closeRe,C.open)+C.close,g=g.replace(/\r?\n/g,`${C.close}$&${C.open}`);return r.dim.open=F,g}v(d,"applyStyle");function a(h,y){if(!Array.isArray(y))return[].slice.call(arguments,1).join(" ");const g=[].slice.call(arguments,2),F=[y.raw[0]];for(let C=1;C<y.length;C++)F.push(String(g[C-1]).replace(/[{}\\]/g,"\\$&")),F.push(String(y.raw[C]));return c(h,F.join(""))}v(a,"chalkTag"),Object.defineProperties(t.prototype,n),p.exports=t(),p.exports.supportsColor=u,p.exports.default=p.exports}(te)),te.exports}v(ft,"requireChalk");var Re;function mt(){if(Re)return _;Re=1,Object.defineProperty(_,"__esModule",{value:!0}),_.default=y,_.shouldHighlight=d;var p=et(),e=nt(),r=c(Fe(),!0);function u(g){if(typeof WeakMap!="function")return null;var F=new WeakMap,C=new WeakMap;return(u=v(function(E){return E?C:F},"_getRequireWildcardCache"))(g)}v(u,"_getRequireWildcardCache");function c(g,F){if(g===null||typeof g!="object"&&typeof g!="function")return{default:g};var C=u(F);if(C&&C.has(g))return C.get(g);var E={__proto__:null},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in g)if(b!=="default"&&{}.hasOwnProperty.call(g,b)){var D=x?Object.getOwnPropertyDescriptor(g,b):null;D&&(D.get||D.set)?Object.defineProperty(E,b,D):E[b]=g[b]}return E.default=g,C&&C.set(g,E),E}v(c,"_interopRequireWildcard");const A=typeof process=="object"&&(process.env.FORCE_COLOR==="0"||process.env.FORCE_COLOR==="false")?(0,r.createColors)(!1):r.default,f=v((g,F)=>C=>g(F(C)),"compose"),m=new Set(["as","async","from","get","of","set"]);function n(g){return{keyword:g.cyan,capitalized:g.yellow,jsxIdentifier:g.yellow,punctuator:g.yellow,number:g.magenta,string:g.green,regex:g.magenta,comment:g.gray,invalid:f(f(g.white,g.bgRed),g.bold)}}v(n,"getDefs");const i=/\r\n|[\n\r\u2028\u2029]/,t=/^[()[\]{}]$/;let s;{const g=/^[a-z][\w-]*$/i,F=v(function(C,E,x){if(C.type==="name"){if((0,e.isKeyword)(C.value)||(0,e.isStrictReservedWord)(C.value,!0)||m.has(C.value))return"keyword";if(g.test(C.value)&&(x[E-1]==="<"||x.slice(E-2,E)==="</"))return"jsxIdentifier";if(C.value[0]!==C.value[0].toLowerCase())return"capitalized"}return C.type==="punctuator"&&t.test(C.value)?"bracket":C.type==="invalid"&&(C.value==="@"||C.value==="#")?"punctuator":C.type},"getTokenType");s=v(function*(C){let E;for(;E=p.default.exec(C);){const x=p.matchToToken(E);yield{type:F(x,E.index,C),value:x.value}}},"tokenize")}function o(g,F){let C="";for(const{type:E,value:x}of s(F)){const b=g[E];b?C+=x.split(i).map(D=>b(D)).join(`
`):C+=x}return C}v(o,"highlightTokens");function d(g){return A.isColorSupported||g.forceColor}v(d,"shouldHighlight");let a;function h(g){if(g){var F;return(F=a)!=null||(a=(0,r.createColors)(!0)),a}return A}v(h,"getColors");function y(g,F={}){if(g!==""&&d(F)){const C=n(h(F.forceColor));return o(C,g)}else return g}v(y,"highlight");{let g,F;_.getChalk=({forceColor:C})=>{var E;if((E=g)!=null||(g=ft()),C){var x;return(x=F)!=null||(F=new g.constructor({enabled:!0,level:1})),F}return g}}return _}v(mt,"requireLib$1");var Me;function ht(){if(Me)return q;Me=1,Object.defineProperty(q,"__esModule",{value:!0}),q.codeFrameColumns=o,q.default=d;var p=mt(),e=u(Fe(),!0);function r(a){if(typeof WeakMap!="function")return null;var h=new WeakMap,y=new WeakMap;return(r=v(function(g){return g?y:h},"_getRequireWildcardCache"))(a)}v(r,"_getRequireWildcardCache");function u(a,h){if(a===null||typeof a!="object"&&typeof a!="function")return{default:a};var y=r(h);if(y&&y.has(a))return y.get(a);var g={__proto__:null},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in a)if(C!=="default"&&Object.prototype.hasOwnProperty.call(a,C)){var E=F?Object.getOwnPropertyDescriptor(a,C):null;E&&(E.get||E.set)?Object.defineProperty(g,C,E):g[C]=a[C]}return g.default=a,y&&y.set(a,g),g}v(u,"_interopRequireWildcard");const c=typeof process=="object"&&(process.env.FORCE_COLOR==="0"||process.env.FORCE_COLOR==="false")?(0,e.createColors)(!1):e.default,A=v((a,h)=>y=>a(h(y)),"compose");let f;function m(a){if(a){var h;return(h=f)!=null||(f=(0,e.createColors)(!0)),f}return c}v(m,"getColors");let n=!1;function i(a){return{gutter:a.gray,marker:A(a.red,a.bold),message:A(a.red,a.bold)}}v(i,"getDefs");const t=/\r\n|[\n\r\u2028\u2029]/;function s(a,h,y){const g=Object.assign({column:0,line:-1},a.start),F=Object.assign({},g,a.end),{linesAbove:C=2,linesBelow:E=3}=y||{},x=g.line,b=g.column,D=F.line,N=F.column;let I=Math.max(x-(C+1),0),K=Math.min(h.length,D+E);x===-1&&(I=0),D===-1&&(K=h.length);const z=D-x,k={};if(z)for(let O=0;O<=z;O++){const R=O+x;if(!b)k[R]=!0;else if(O===0){const P=h[R-1].length;k[R]=[b,P-b+1]}else if(O===z)k[R]=[0,N];else{const P=h[R-O].length;k[R]=[0,P]}}else b===N?b?k[x]=[b,0]:k[x]=!0:k[x]=[b,N-b];return{start:I,end:K,markerLines:k}}v(s,"getMarkerLines");function o(a,h,y={}){const g=(y.highlightCode||y.forceColor)&&(0,p.shouldHighlight)(y),F=m(y.forceColor),C=i(F),E=v((O,R)=>g?O(R):R,"maybeHighlight"),x=a.split(t),{start:b,end:D,markerLines:N}=s(h,x,y),I=h.start&&typeof h.start.column=="number",K=String(D).length;let k=(g?(0,p.default)(a,y):a).split(t,D).slice(b,D).map((O,R)=>{const P=b+1+R,Q=` ${` ${P}`.slice(-K)} |`,V=N[P],ze=!N[P+1];if(V){let Z="";if(Array.isArray(V)){const Ve=O.slice(0,Math.max(V[0]-1,0)).replace(/[^\t]/g," "),Ue=V[1]||1;Z=[`
 `,E(C.gutter,Q.replace(/\d/g," "))," ",Ve,E(C.marker,"^").repeat(Ue)].join(""),ze&&y.message&&(Z+=" "+E(C.message,y.message))}return[E(C.marker,">"),E(C.gutter,Q),O.length>0?` ${O}`:"",Z].join("")}else return` ${E(C.gutter,Q)}${O.length>0?` ${O}`:""}`}).join(`
`);return y.message&&!I&&(k=`${" ".repeat(K+1)}${y.message}
${k}`),g?F.reset(k):k}v(o,"codeFrameColumns");function d(a,h,y,g={}){if(!n){n=!0;const C="Passing lineNumber and colNumber is deprecated to @babel/code-frame. Please use `codeFrameColumns`.";if(process.emitWarning)process.emitWarning(C,"DeprecationWarning");else{const E=new Error(C);E.name="DeprecationWarning",console.warn(new Error(C))}}return y=Math.max(y,0),o(a,{start:{column:y,line:h}},g)}return v(d,"_default"),q}v(ht,"requireLib"),ht();function dt(p){return{...p,compilerOptions:p.compilerOptions??{},respectExternal:p.respectExternal??!1}}v(dt,"resolveDefaultOptions");const X=/\.d\.(c|m)?tsx?$/,Ie=".d.ts",ce={getCurrentDirectory:v(()=>l.sys.getCurrentDirectory(),"getCurrentDirectory"),getNewLine:v(()=>l.sys.newLine,"getNewLine"),getCanonicalFileName:l.sys.useCaseSensitiveFileNames?p=>p:p=>p.toLowerCase()},gt={declaration:!0,noEmit:!1,emitDeclarationOnly:!0,noEmitOnError:!0,checkJs:!1,declarationMap:!1,skipLibCheck:!0,preserveSymlinks:!0,target:l.ScriptTarget.ESNext},G=new Map,L=v((...p)=>process.env.DTS_LOG_CACHE?console.log("[cache]",...p):null,"logCache");function Pe([p,e],r){for(L(p),G.set(p,r);p!==e&&p!==w.dirname(p);){if(p=w.dirname(p),L("up",p),G.has(p))return L("has",p);G.set(p,r)}}v(Pe,"cacheConfig");function pe(p,e,r){const u={...gt,...e};let c=w.dirname(p),A=[];const f=r||c;if(G.has(f))L("HIT",f);else{L("miss",f);const t=r?w.resolve(process.cwd(),r):l.findConfigFile(c,l.sys.fileExists);if(!t)return{dtsFiles:A,dirName:c,compilerOptions:u};let s=c;c=w.dirname(t);const{config:o,error:d}=l.readConfigFile(t,l.sys.readFile);if(d)return console.error(l.formatDiagnostic(d,ce)),{dtsFiles:A,dirName:c,compilerOptions:u};L("tsconfig",o);const a=l.parseJsonConfigFileContent(o,l.sys,c);Pe(r?[r,r]:[s,c],a)}const{fileNames:m,options:n,errors:i}=G.get(f);return A=m.filter(t=>X.test(t)),i.length?(console.error(l.formatDiagnostics(i,ce)),{dtsFiles:A,dirName:c,compilerOptions:u}):{dtsFiles:A,dirName:c,compilerOptions:{...n,...u}}}v(pe,"getCompilerOptions");function vt(p,e,r){const{dtsFiles:u,compilerOptions:c}=pe(p,e,r);return l.createProgram([p].concat(Array.from(u)),c,l.createCompilerHost(c,!0))}v(vt,"createProgram$1");function yt(p,e,r){const u=[];let c=[],A=new Set,f="",m={};for(let n of p){if(X.test(n))continue;n=w.resolve(n);const i=pe(n,e,r);if(i.dtsFiles.forEach(A.add,A),!c.length){c.push(n),{dirName:f,compilerOptions:m}=i;continue}if(i.dirName===f)c.push(n);else{const t=l.createCompilerHost(m,!0),s=l.createProgram(c.concat(Array.from(A)),m,t);u.push(s),c=[n],{dirName:f,compilerOptions:m}=i}}if(c.length){const n=l.createCompilerHost(m,!0),i=l.createProgram(c.concat(Array.from(A)),m,n);u.push(i)}return u}v(yt,"createPrograms");function At(){let p;try{return{codeFrameColumns:p}=de("@babel/code-frame"),p}catch{try{return{codeFrameColumns:p}=Qe(import.meta.url)("@babel/code-frame"),p}catch{}}}v(At,"getCodeFrame");function Ct(p){const e=p.getSourceFile(),r=e.getLineAndCharacterOfPosition(p.getStart()),u=e.getLineAndCharacterOfPosition(p.getEnd());return{start:{line:r.line+1,column:r.character+1},end:{line:u.line+1,column:u.character+1}}}v(Ct,"getLocation");function Ft(p){const e=At(),u=p.getSourceFile().getFullText(),c=Ct(p);return e?`
`+e(u,c,{highlightCode:!0}):`
${c.start.line}:${c.start.column}: \`${p.getFullText().trim()}\``}v(Ft,"frameNode");class B extends Error{static{v(this,"UnsupportedSyntaxError")}constructor(e,r="Syntax not yet supported"){super(`${r}
${Ft(e)}`)}}class Et{static{v(this,"NamespaceFixer")}constructor(e){this.sourceFile=e}findNamespaces(){const e=[],r={};for(const u of this.sourceFile.statements){const c={start:u.getStart(),end:u.getEnd()};if(l.isEmptyStatement(u)){e.unshift({name:"",exports:[],location:c});continue}if((l.isImportDeclaration(u)||l.isExportDeclaration(u))&&u.moduleSpecifier&&l.isStringLiteral(u.moduleSpecifier)){let{text:t}=u.moduleSpecifier;if(t.startsWith(".")&&(t.endsWith(".d.ts")||t.endsWith(".d.cts")||t.endsWith(".d.mts"))){let s=u.moduleSpecifier.getStart()+1,o=u.moduleSpecifier.getEnd()-1;e.unshift({name:"",exports:[],location:{start:s,end:o},textBeforeCodeAfter:t.replace(/\.d\.ts$/,".js").replace(/\.d\.cts$/,".cjs").replace(/\.d\.mts$/,".mjs")})}}if(l.isModuleDeclaration(u)&&u.body&&l.isModuleBlock(u.body)){for(const t of u.body.statements)if(l.isExportDeclaration(t)&&t.exportClause){if(l.isNamespaceExport(t.exportClause))continue;for(const s of t.exportClause.elements)s.propertyName&&s.propertyName.getText()==s.name.getText()&&e.unshift({name:"",exports:[],location:{start:s.propertyName.getEnd(),end:s.name.getEnd()}})}}if(l.isClassDeclaration(u)?r[u.name.getText()]={type:"class",generics:u.typeParameters}:l.isFunctionDeclaration(u)?r[u.name.getText()]={type:"function"}:l.isInterfaceDeclaration(u)?r[u.name.getText()]={type:"interface",generics:u.typeParameters}:l.isTypeAliasDeclaration(u)?r[u.name.getText()]={type:"type",generics:u.typeParameters}:l.isModuleDeclaration(u)&&l.isIdentifier(u.name)?r[u.name.getText()]={type:"namespace"}:l.isEnumDeclaration(u)&&(r[u.name.getText()]={type:"enum"}),!l.isVariableStatement(u))continue;const{declarations:A}=u.declarationList;if(A.length!==1)continue;const f=A[0],m=f.name.getText();if(!f.initializer||!l.isCallExpression(f.initializer)){r[m]={type:"var"};continue}const n=f.initializer.arguments[0];if(!f.initializer.expression.getFullText().includes("/*#__PURE__*/Object.freeze")||!l.isObjectLiteralExpression(n))continue;const i=[];for(const t of n.properties){if(!l.isPropertyAssignment(t)||!(l.isIdentifier(t.name)||l.isStringLiteral(t.name))||t.name.text!=="__proto__"&&!l.isIdentifier(t.initializer))throw new B(t,"Expected a property assignment");t.name.text!=="__proto__"&&i.push({exportedName:t.name.text,localName:t.initializer.getText()})}e.unshift({name:m,exports:i,location:c})}return{namespaces:e,itemTypes:r}}fix(){let e=this.sourceFile.getFullText();const{namespaces:r,itemTypes:u}=this.findNamespaces();for(const c of r){const A=e.slice(c.location.end);e=e.slice(0,c.location.start);for(const{exportedName:f,localName:m}of c.exports)if(f===m){const{type:n,generics:i}=u[m]||{};if(n==="interface"||n==="type"){const t=$e(i);e+=`type ${c.name}_${f}${t.in} = ${m}${t.out};
`}else if(n==="enum"||n==="class"){const t=$e(i);e+=`type ${c.name}_${f}${t.in} = ${m}${t.out};
`,e+=`declare const ${c.name}_${f}: typeof ${m};
`}else e+=`declare const ${c.name}_${f}: typeof ${m};
`}if(c.name){e+=`declare namespace ${c.name} {
`,e+=`  export {
`;for(const{exportedName:f,localName:m}of c.exports)f===m?e+=`    ${c.name}_${f} as ${f},
`:e+=`    ${m} as ${f},
`;e+=`  };
`,e+="}"}e+=c.textBeforeCodeAfter??"",e+=A}return e}}function $e(p){return!p||!p.length?{in:"",out:""}:{in:`<${p.map(e=>e.getText()).join(", ")}>`,out:`<${p.map(e=>e.name.getText()).join(", ")}>`}}v($e,"renderTypeParams");let _e=1;function bt(p){return S({type:"Program",sourceType:"module",body:[]},{start:p.getFullStart(),end:p.getEnd()})}v(bt,"createProgram");function xt(p){const e={type:"Identifier",name:String(_e++)};return{ident:e,expr:{type:"AssignmentPattern",left:e,right:p}}}v(xt,"createReference");function T(p){return S({type:"Identifier",name:p.getText()},p)}v(T,"createIdentifier");function Dt(p){const e=S({type:"FunctionExpression",id:null,params:[],body:{type:"BlockStatement",body:[]}},p),r=S({type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:String(_e++)},arguments:[e],optional:!1}},p);return{fn:e,iife:r}}v(Dt,"createIIFE");function Bt(){const p={type:"ArrayExpression",elements:[]};return{expr:p,stmt:{type:"ReturnStatement",argument:p}}}v(Bt,"createReturn");function wt(p,e){return S({type:"FunctionDeclaration",id:S({type:"Identifier",name:l.idText(p)},p),params:[],body:{type:"BlockStatement",body:[]}},e)}v(wt,"createDeclaration");function $(p){if(l.isLiteralExpression(p))return{type:"Literal",value:p.text};if(l.isPropertyAccessExpression(p)){if(l.isPrivateIdentifier(p.name))throw new B(p.name);return S({type:"MemberExpression",computed:!1,optional:!1,object:$(p.expression),property:$(p.name)},{start:p.expression.getStart(),end:p.name.getEnd()})}if(l.isIdentifier(p))return T(p);if(p.kind==l.SyntaxKind.NullKeyword)return{type:"Literal",value:null};throw new B(p)}v($,"convertExpression");function S(p,e){let r="start"in e?e:{start:e.getStart(),end:e.getEnd()};return Object.assign(p,r)}v(S,"withStartEnd");function Y(p,e){return(l.getCombinedModifierFlags(p)&e)===e}v(Y,"matchesModifier");function St({sourceFile:p}){const e=new Ze(p.getFullText()),r=new Set,u=new Set;let c="";const A=new Map,f=new Map;for(const a of p.statements){if(l.isEmptyStatement(a)){e.remove(a.getStart(),a.getEnd());continue}if(l.isEnumDeclaration(a)||l.isFunctionDeclaration(a)||l.isInterfaceDeclaration(a)||l.isClassDeclaration(a)||l.isTypeAliasDeclaration(a)||l.isModuleDeclaration(a)){if(a.name){const h=a.name.getText();r.add(h),Y(a,l.ModifierFlags.ExportDefault)?c=h:Y(a,l.ModifierFlags.Export)&&u.add(h),a.flags&l.NodeFlags.GlobalAugmentation||d(h,[fe(a),Le(a)])}l.isModuleDeclaration(a)&&Tt(e,a),je(e,a)}else if(l.isVariableStatement(a)){const{declarations:h}=a.declarationList,y=Y(a,l.ModifierFlags.Export);for(const b of a.declarationList.declarations)if(l.isIdentifier(b.name)){const D=b.name.getText();r.add(D),y&&u.add(D)}if(je(e,a),h.length==1){const b=h[0];l.isIdentifier(b.name)&&d(b.name.getText(),[fe(a),Le(a)])}else{const b=h.slice(),D=b.shift();d(D.name.getText(),[fe(a),D.getEnd()]);for(const N of b)l.isIdentifier(N.name)&&d(N.name.getText(),[N.getFullStart(),N.getEnd()])}const{flags:g}=a.declarationList,C=`declare ${g&l.NodeFlags.Let?"let":g&l.NodeFlags.Const?"const":"var"} `,E=a.declarationList.getChildren().find(b=>b.kind===l.SyntaxKind.SyntaxList).getChildren();let x=0;for(const b of E)if(b.kind===l.SyntaxKind.CommaToken)x=b.getStart(),e.remove(x,b.getEnd());else if(x){e.appendLeft(x,`;
`);const D=b.getFullStart(),N=e.slice(D,b.getStart());let I=N.length-N.trimStart().length;I?e.overwrite(D,D+I,C):e.appendLeft(D,C)}}}for(const a of p.statements)if(t(a),!!Y(a,l.ModifierFlags.ExportDefault)&&(l.isFunctionDeclaration(a)||l.isClassDeclaration(a))){if(a.name)continue;c||(c=o("export_default"));const h=a.getChildren(),y=h.findIndex(E=>E.kind===l.SyntaxKind.ClassKeyword||E.kind===l.SyntaxKind.FunctionKeyword),g=h[y],F=h[y+1];if(F.kind>=l.SyntaxKind.FirstPunctuation&&F.kind<=l.SyntaxKind.LastPunctuation){const E=e.slice(g.getEnd(),F.getStart())!=" ";e.appendLeft(F.getStart(),`${E?" ":""}${c}`)}else e.appendRight(g.getEnd(),` ${c}`)}for(const a of f.values()){const y=a.pop()[0];for(const g of a)e.move(g[0],g[1],y)}c&&e.append(`
export default ${c};
`),u.size&&e.append(`
export { ${[...u].join(", ")} };
`);for(const[a,h]of A.entries())e.prepend(`import * as ${h} from "${a}";
`);const m=p.getLineStarts(),n=new Set;for(const a of p.typeReferenceDirectives){n.add(a.fileName);const{line:h}=p.getLineAndCharacterOfPosition(a.pos),y=m[h];let g=p.getLineEndOfPosition(a.pos);e.slice(g,g+1)==`
`&&(g+=1),e.remove(y,g)}const i=new Set;for(const a of p.referencedFiles){i.add(a.fileName);const{line:h}=p.getLineAndCharacterOfPosition(a.pos),y=m[h];let g=p.getLineEndOfPosition(a.pos);e.slice(g,g+1)==`
`&&(g+=1),e.remove(y,g)}return{code:e,typeReferences:n,fileReferences:i};function t(a){if(l.forEachChild(a,t),l.isImportTypeNode(a)){if(!l.isLiteralTypeNode(a.argument)||!l.isStringLiteral(a.argument.literal))throw new B(a,"inline imports should have a literal argument");const h=a.argument.literal.text,y=a.getChildren(),g=y.find(x=>x.kind===l.SyntaxKind.ImportKeyword).getStart();let F=a.getEnd();const C=y.find(x=>x.kind===l.SyntaxKind.DotToken||x.kind===l.SyntaxKind.LessThanToken);C&&(F=C.getStart());const E=s(h);e.overwrite(g,F,E)}}function s(a){let h=A.get(a);return h||(h=o(a.replace(/[^a-zA-Z0-9_$]/g,()=>"_")),A.set(a,h)),h}function o(a){let h=a;for(;r.has(h);)h=`_${h}`;return r.add(h),h}function d(a,h){let y=f.get(a);if(!y)y=[h],f.set(a,y);else{const g=y[y.length-1];g[1]===h[0]?g[1]=h[1]:y.push(h)}}}v(St,"preProcess");function je(p,e){if(!l.canHaveModifiers(e))return;let r=!1;const u=l.isEnumDeclaration(e)||l.isClassDeclaration(e)||l.isFunctionDeclaration(e)||l.isModuleDeclaration(e)||l.isVariableStatement(e);for(const c of e.modifiers??[])switch(c.kind){case l.SyntaxKind.ExportKeyword:case l.SyntaxKind.DefaultKeyword:p.remove(c.getStart(),c.getEnd()+1);break;case l.SyntaxKind.DeclareKeyword:r=!0}u&&!r&&p.appendRight(e.getStart(),"declare ")}v(je,"fixModifiers");function Tt(p,e){if(!(!e.body||!l.isModuleBlock(e.body))){for(const r of e.body.statements)if(l.isExportDeclaration(r)&&r.exportClause){if(l.isNamespaceExport(r.exportClause))continue;for(const u of r.exportClause.elements)u.propertyName||p.appendLeft(u.name.getEnd(),` as ${u.name.getText()}`)}}}v(Tt,"duplicateExports");function fe(p){const e=p.getFullStart();return e+(Ke(p,e)?1:0)}v(fe,"getStart");function Le(p){const e=p.getEnd();return e+(Ke(p,e)?1:0)}v(Le,"getEnd");function Ke(p,e){return p.getSourceFile().getFullText()[e]==`
`}v(Ke,"newlineAt");const Nt=new Set([l.SyntaxKind.LiteralType,l.SyntaxKind.VoidKeyword,l.SyntaxKind.UnknownKeyword,l.SyntaxKind.AnyKeyword,l.SyntaxKind.BooleanKeyword,l.SyntaxKind.NumberKeyword,l.SyntaxKind.StringKeyword,l.SyntaxKind.ObjectKeyword,l.SyntaxKind.NullKeyword,l.SyntaxKind.UndefinedKeyword,l.SyntaxKind.SymbolKeyword,l.SyntaxKind.NeverKeyword,l.SyntaxKind.ThisKeyword,l.SyntaxKind.ThisType,l.SyntaxKind.BigIntKeyword]);class qe{static{v(this,"DeclarationScope")}constructor({id:e,range:r}){if(this.scopes=[],e)this.declaration=wt(e,r);else{const{iife:c,fn:A}=Dt(r);this.iife=c,this.declaration=A}const u=Bt();this.declaration.body.body.push(u.stmt),this.returnExpr=u.expr}pushScope(){this.scopes.push(new Set)}popScope(e=1){for(let r=0;r<e;r++)this.scopes.pop()}pushTypeVariable(e){const r=e.getText();this.scopes[this.scopes.length-1]?.add(r)}pushReference(e){let r;if(e.type==="Identifier"?r=e.name:e.type==="MemberExpression"&&e.object.type==="Identifier"&&(r=e.object.name),r){for(const A of this.scopes)if(A.has(r))return}if(r==="this")return;const{ident:u,expr:c}=xt(e);this.declaration.params.push(c),this.returnExpr.elements.push(u)}pushIdentifierReference(e){this.pushReference(T(e))}convertEntityName(e){return l.isIdentifier(e)?T(e):S({type:"MemberExpression",computed:!1,optional:!1,object:this.convertEntityName(e.left),property:T(e.right)},e)}convertPropertyAccess(e){if(!l.isIdentifier(e.expression)&&!l.isPropertyAccessExpression(e.expression))throw new B(e.expression);if(l.isPrivateIdentifier(e.name))throw new B(e.name);let r=l.isIdentifier(e.expression)?T(e.expression):this.convertPropertyAccess(e.expression);return S({type:"MemberExpression",computed:!1,optional:!1,object:r,property:T(e.name)},e)}convertComputedPropertyName(e){if(!e.name||!l.isComputedPropertyName(e.name))return;const{expression:r}=e.name;if(!(l.isLiteralExpression(r)||l.isPrefixUnaryExpression(r))){if(l.isIdentifier(r))return this.pushReference(T(r));if(l.isPropertyAccessExpression(r))return this.pushReference(this.convertPropertyAccess(r));throw new B(r)}}convertParametersAndType(e){this.convertComputedPropertyName(e);const r=this.convertTypeParameters(e.typeParameters);for(const u of e.parameters)this.convertTypeNode(u.type);this.convertTypeNode(e.type),this.popScope(r)}convertHeritageClauses(e){for(const r of e.heritageClauses||[])for(const u of r.types)this.pushReference($(u.expression)),this.convertTypeArguments(u)}convertTypeArguments(e){if(e.typeArguments)for(const r of e.typeArguments)this.convertTypeNode(r)}convertMembers(e){for(const r of e){if(l.isPropertyDeclaration(r)||l.isPropertySignature(r)||l.isIndexSignatureDeclaration(r)){l.isPropertyDeclaration(r)&&r.initializer&&l.isPropertyAccessExpression(r.initializer)&&this.pushReference(this.convertPropertyAccess(r.initializer)),this.convertComputedPropertyName(r),this.convertTypeNode(r.type);continue}if(l.isMethodDeclaration(r)||l.isMethodSignature(r)||l.isConstructorDeclaration(r)||l.isConstructSignatureDeclaration(r)||l.isCallSignatureDeclaration(r)||l.isGetAccessorDeclaration(r)||l.isSetAccessorDeclaration(r))this.convertParametersAndType(r);else throw new B(r)}}convertTypeParameters(e){if(!e)return 0;for(const r of e)this.convertTypeNode(r.constraint),this.convertTypeNode(r.default),this.pushScope(),this.pushTypeVariable(r.name);return e.length}convertTypeNode(e){if(e&&!Nt.has(e.kind)){if(l.isTypeReferenceNode(e)){this.pushReference(this.convertEntityName(e.typeName)),this.convertTypeArguments(e);return}if(l.isTypeLiteralNode(e))return this.convertMembers(e.members);if(l.isArrayTypeNode(e))return this.convertTypeNode(e.elementType);if(l.isTupleTypeNode(e)){for(const r of e.elements)this.convertTypeNode(r);return}if(l.isNamedTupleMember(e)||l.isParenthesizedTypeNode(e)||l.isTypeOperatorNode(e)||l.isTypePredicateNode(e))return this.convertTypeNode(e.type);if(l.isUnionTypeNode(e)||l.isIntersectionTypeNode(e)){for(const r of e.types)this.convertTypeNode(r);return}if(l.isMappedTypeNode(e)){const{typeParameter:r,type:u,nameType:c}=e;this.convertTypeNode(r.constraint),this.pushScope(),this.pushTypeVariable(r.name),this.convertTypeNode(u),c&&this.convertTypeNode(c),this.popScope();return}if(l.isConditionalTypeNode(e)){this.convertTypeNode(e.checkType),this.pushScope(),this.convertTypeNode(e.extendsType),this.convertTypeNode(e.trueType),this.convertTypeNode(e.falseType),this.popScope();return}if(l.isIndexedAccessTypeNode(e)){this.convertTypeNode(e.objectType),this.convertTypeNode(e.indexType);return}if(l.isFunctionOrConstructorTypeNode(e)){this.convertParametersAndType(e);return}if(l.isTypeQueryNode(e)){this.pushReference(this.convertEntityName(e.exprName));return}if(l.isRestTypeNode(e)){this.convertTypeNode(e.type);return}if(l.isOptionalTypeNode(e)){this.convertTypeNode(e.type);return}if(l.isTemplateLiteralTypeNode(e)){for(const r of e.templateSpans)this.convertTypeNode(r.type);return}if(l.isInferTypeNode(e)){const{typeParameter:r}=e;this.convertTypeNode(r.constraint),this.pushTypeVariable(r.name);return}else throw new B(e)}}convertNamespace(e,r=!1){if(this.pushScope(),r&&e.body&&l.isModuleDeclaration(e.body)){this.convertNamespace(e.body,!0);return}if(!e.body||!l.isModuleBlock(e.body))throw new B(e,'namespace must have a "ModuleBlock" body.');const{statements:u}=e.body;for(const c of u){if(l.isEnumDeclaration(c)||l.isFunctionDeclaration(c)||l.isClassDeclaration(c)||l.isInterfaceDeclaration(c)||l.isTypeAliasDeclaration(c)||l.isModuleDeclaration(c)){if(c.name&&l.isIdentifier(c.name))this.pushTypeVariable(c.name);else throw new B(c,"non-Identifier name not supported");continue}if(l.isVariableStatement(c)){for(const A of c.declarationList.declarations)if(l.isIdentifier(A.name))this.pushTypeVariable(A.name);else throw new B(A,"non-Identifier name not supported");continue}if(!l.isExportDeclaration(c))throw new B(c,"namespace child (hoisting) not supported yet")}for(const c of u){if(l.isVariableStatement(c)){for(const A of c.declarationList.declarations)A.type&&this.convertTypeNode(A.type);continue}if(l.isFunctionDeclaration(c)){this.convertParametersAndType(c);continue}if(l.isInterfaceDeclaration(c)||l.isClassDeclaration(c)){const A=this.convertTypeParameters(c.typeParameters);this.convertHeritageClauses(c),this.convertMembers(c.members),this.popScope(A);continue}if(l.isTypeAliasDeclaration(c)){const A=this.convertTypeParameters(c.typeParameters);this.convertTypeNode(c.type),this.popScope(A);continue}if(l.isModuleDeclaration(c)){this.convertNamespace(c,r);continue}if(!l.isEnumDeclaration(c))if(l.isExportDeclaration(c)){if(c.exportClause){if(l.isNamespaceExport(c.exportClause))throw new B(c.exportClause);for(const A of c.exportClause.elements){const f=A.propertyName||A.name;this.pushIdentifierReference(f)}}}else throw new B(c,"namespace child (walking) not supported yet")}this.popScope()}}function Ot({sourceFile:p}){return new kt(p).transform()}v(Ot,"convert");class kt{static{v(this,"Transformer")}constructor(e){this.sourceFile=e,this.declarations=new Map,this.ast=bt(e);for(const r of e.statements)this.convertStatement(r)}transform(){return{ast:this.ast}}pushStatement(e){this.ast.body.push(e)}createDeclaration(e,r){const u={start:e.getFullStart(),end:e.getEnd()};if(!r){const m=new qe({range:u});return this.pushStatement(m.iife),m}const c=r.getText(),A=new qe({id:r,range:u}),f=this.declarations.get(c);if(f){f.pushIdentifierReference(r),f.declaration.end=u.end;let m=this.ast.body.findIndex(n=>n==f.declaration);for(let n=m+1;n<this.ast.body.length;n++){const i=this.ast.body[n];i.start=i.end=u.end}}else this.pushStatement(A.declaration),this.declarations.set(c,A);return f||A}convertStatement(e){if(l.isEnumDeclaration(e))return this.convertEnumDeclaration(e);if(l.isFunctionDeclaration(e))return this.convertFunctionDeclaration(e);if(l.isInterfaceDeclaration(e)||l.isClassDeclaration(e))return this.convertClassOrInterfaceDeclaration(e);if(l.isTypeAliasDeclaration(e))return this.convertTypeAliasDeclaration(e);if(l.isVariableStatement(e))return this.convertVariableStatement(e);if(l.isExportDeclaration(e)||l.isExportAssignment(e))return this.convertExportDeclaration(e);if(l.isModuleDeclaration(e))return this.convertNamespaceDeclaration(e);if(e.kind==l.SyntaxKind.NamespaceExportDeclaration)return this.removeStatement(e);if(l.isImportDeclaration(e)||l.isImportEqualsDeclaration(e))return this.convertImportDeclaration(e);throw new B(e)}removeStatement(e){this.pushStatement(S({type:"ExpressionStatement",expression:{type:"Literal",value:"pls remove me"}},e))}convertNamespaceDeclaration(e){if(e.flags&l.NodeFlags.GlobalAugmentation||!l.isIdentifier(e.name)){this.createDeclaration(e).convertNamespace(e,!0);return}const u=this.createDeclaration(e,e.name);u.pushIdentifierReference(e.name),u.convertNamespace(e)}convertEnumDeclaration(e){this.createDeclaration(e,e.name).pushIdentifierReference(e.name)}convertFunctionDeclaration(e){if(!e.name)throw new B(e,"FunctionDeclaration should have a name");const r=this.createDeclaration(e,e.name);r.pushIdentifierReference(e.name),r.convertParametersAndType(e)}convertClassOrInterfaceDeclaration(e){if(!e.name)throw new B(e,"ClassDeclaration / InterfaceDeclaration should have a name");const r=this.createDeclaration(e,e.name),u=r.convertTypeParameters(e.typeParameters);r.convertHeritageClauses(e),r.convertMembers(e.members),r.popScope(u)}convertTypeAliasDeclaration(e){const r=this.createDeclaration(e,e.name),u=r.convertTypeParameters(e.typeParameters);r.convertTypeNode(e.type),r.popScope(u)}convertVariableStatement(e){const{declarations:r}=e.declarationList;if(r.length!==1)throw new B(e,"VariableStatement with more than one declaration not yet supported");for(const u of r){if(!l.isIdentifier(u.name))throw new B(e,"VariableDeclaration must have a name");this.createDeclaration(e,u.name).convertTypeNode(u.type)}}convertExportDeclaration(e){if(l.isExportAssignment(e)){this.pushStatement(S({type:"ExportDefaultDeclaration",declaration:$(e.expression)},e));return}const r=e.moduleSpecifier?$(e.moduleSpecifier):void 0;if(!e.exportClause)this.pushStatement(S({type:"ExportAllDeclaration",source:r,exported:null},e));else if(l.isNamespaceExport(e.exportClause))this.pushStatement(S({type:"ExportAllDeclaration",source:r,exported:T(e.exportClause.name)},e));else{const u=[];for(const c of e.exportClause.elements)u.push(this.convertExportSpecifier(c));this.pushStatement(S({type:"ExportNamedDeclaration",declaration:null,specifiers:u,source:r},e))}}convertImportDeclaration(e){if(l.isImportEqualsDeclaration(e)){if(!l.isExternalModuleReference(e.moduleReference))throw new B(e,"ImportEquals should have a literal source.");this.pushStatement(S({type:"ImportDeclaration",specifiers:[{type:"ImportDefaultSpecifier",local:T(e.name)}],source:$(e.moduleReference.expression)},e));return}const r=$(e.moduleSpecifier),u=e.importClause&&e.importClause.namedBindings?this.convertNamedImportBindings(e.importClause.namedBindings):[];e.importClause&&e.importClause.name&&u.push({type:"ImportDefaultSpecifier",local:T(e.importClause.name)}),this.pushStatement(S({type:"ImportDeclaration",specifiers:u,source:r},e))}convertNamedImportBindings(e){return l.isNamedImports(e)?e.elements.map(r=>{const u=T(r.name),c=r.propertyName?T(r.propertyName):u;return{type:"ImportSpecifier",local:u,imported:c}}):[{type:"ImportNamespaceSpecifier",local:T(e.name)}]}convertExportSpecifier(e){const r=T(e.name);return{type:"ExportSpecifier",exported:r,local:e.propertyName?T(e.propertyName):r}}}class Rt{static{v(this,"ExportsFixer")}constructor(e){this.source=e,this.DEBUG=!!process.env.DTS_EXPORTS_FIXER_DEBUG}fix(){const e=this.findExports();return e.sort((r,u)=>r.location.start-u.location.start),this.getCodeParts(e).join("")}findExports(){const{rawExports:e,values:r,types:u}=this.getExportsAndLocals();return e.map(c=>{const A=c.elements.map(f=>{const m=f.name.text,n=f.propertyName?.text??f.name.text,i=u.some(t=>t.getText()===n)&&!r.some(t=>t.getText()===n)?"type":"value";return this.DEBUG&&console.log(`export ${n} as ${m} is a ${i}`),{exportedName:m,localName:n,kind:i}});return{location:{start:c.getStart(),end:c.getEnd()},exports:A}})}getExportsAndLocals(e=this.source.statements){const r=[],u=[],c=[],A=v(f=>{const{rawExports:m,values:n,types:i}=this.getExportsAndLocals(f);r.push(...m),u.push(...n),c.push(...i)},"recurseInto");for(const f of e)if(this.DEBUG&&console.log(f.getText(),f.kind),!l.isImportDeclaration(f)){if(l.isInterfaceDeclaration(f)||l.isTypeAliasDeclaration(f)){this.DEBUG&&console.log(`${f.name.getFullText()} is a type`),c.push(f.name);continue}if(l.isEnumDeclaration(f)||l.isFunctionDeclaration(f)||l.isClassDeclaration(f)||l.isVariableStatement(f)){if(l.isVariableStatement(f))for(const m of f.declarationList.declarations)l.isIdentifier(m.name)&&(this.DEBUG&&console.log(`${m.name.getFullText()} is a value (from var statement)`),u.push(m.name));else f.name&&(this.DEBUG&&console.log(`${f.name.getFullText()} is a value (from declaration)`),u.push(f.name));continue}if(l.isModuleBlock(f)){const m=f.statements;A(m);continue}if(l.isModuleDeclaration(f)){f.name&&l.isIdentifier(f.name)&&(this.DEBUG&&console.log(`${f.name.getFullText()} is a value (from module declaration)`),u.push(f.name)),A(f.getChildren());continue}if(l.isExportDeclaration(f)){if(f.moduleSpecifier||f.isTypeOnly)continue;const m=f.exportClause;if(!m||!l.isNamedExports(m))continue;r.push(m);continue}this.DEBUG&&console.log("unhandled statement",f.getFullText(),f.kind)}return{rawExports:r,values:u,types:c}}createNamedExport(e,r=!1){return`${!r&&e.kind==="type"?"type ":""}${e.localName}${e.localName===e.exportedName?"":` as ${e.exportedName}`}`}getCodeParts(e){let r=0;const u=this.source.getFullText(),c=[];for(const A of e){const f=u.slice(r,A.location.start);f.length>0&&c.push(f),c.push(this.getExportStatement(A)),r=A.location.end}return r<u.length&&c.push(u.slice(r)),c}getExportStatement(e){const r=e.exports.every(u=>u.kind==="type")&&e.exports.length>0;return`${r?"type ":""}{ ${e.exports.map(u=>this.createNamedExport(u,r)).join(", ")} }`}}function J(p,e){return l.createSourceFile(p,e,l.ScriptTarget.Latest,!0)}v(J,"parse");const Mt=v(()=>{const p=new Map,e=new Map;return{name:"dts-transform",options({onLog:r,...u}){return{...u,onLog(c,A,f){c==="warn"&&A.code=="CIRCULAR_DEPENDENCY"||(r?r(c,A,f):f(c,A))},treeshake:{moduleSideEffects:"no-external",propertyReadSideEffects:!0,unknownGlobalSideEffects:!1}}},outputOptions(r){return{...r,chunkFileNames:r.chunkFileNames||"[name]-[hash].d.ts",entryFileNames:r.entryFileNames||"[name].d.ts",format:"es",exports:"named",compact:!1,freeze:!0,interop:"esModule",generatedCode:Object.assign({symbols:!1},r.generatedCode),strict:!1}},transform(r,u){let c=J(u,r);const A=St({sourceFile:c});p.set(c.fileName,A.typeReferences),e.set(c.fileName,A.fileReferences),r=A.code.toString(),c=J(u,r);const f=Ot({sourceFile:c});return process.env.DTS_DUMP_AST&&(console.log(u),console.log(r),console.log(JSON.stringify(f.ast.body,void 0,2))),{code:r,ast:f.ast,map:A.code.generateMap()}},renderChunk(r,u,c){const A=J(u.fileName,r),f=new Et(A),m=new Set,n=new Set;for(const s of Object.keys(u.modules)){for(const o of p.get(s.split("\\").join("/"))||[])m.add(o);for(const o of e.get(s.split("\\").join("/"))||[])if(o.startsWith(".")){const d=w.join(w.dirname(s),o),a=c.file&&w.dirname(c.file)||u.facadeModuleId&&w.dirname(u.facadeModuleId)||".";let h=w.relative(a,d).split("\\").join("/");h[0]!=="."&&(h="./"+h),n.add(h)}else n.add(o)}let i=We(Array.from(n,s=>`/// <reference path="${s}" />`));return i+=We(Array.from(m,s=>`/// <reference types="${s}" />`)),i+=f.fix(),i||(i+=`
export { }`),{code:new Rt(J(u.fileName,i)).fix(),map:{mappings:""}}}}},"transform");function We(p){return p.length?p.join(`
`)+`
`:""}v(We,"writeBlock");const me=/\.([cm]ts|[tj]sx?)$/;function he({programs:p,resolvedOptions:{compilerOptions:e,tsconfig:r}},u,c){if(!p.length&&X.test(u))return{code:c};const A=p.find(f=>!!f.getSourceFile(u));if(A){const f=A.getSourceFile(u);return{code:f?.getFullText(),source:f,program:A}}else if(l.sys.fileExists(u)){const f=vt(u,e,r);p.push(f);const m=f.getSourceFile(u);return{code:m?.getFullText(),source:m,program:f}}else return null}v(he,"getModule");const Ge=v((p={})=>{const e=Mt(),r={programs:[],resolvedOptions:dt(p)};return{name:"dts",outputOptions:e.outputOptions,renderChunk:e.renderChunk,options(u){let{input:c=[]}=u;if(!Array.isArray(c))c=typeof c=="string"?[c]:Object.values(c);else if(c.length>1){u.input={};for(const A of c){let f=A.replace(/((\.d)?\.(c|m)?(t|j)sx?)$/,"");w.isAbsolute(A)?f=w.basename(f):f=w.normalize(f),u.input[f]=A}}return r.programs=yt(Object.values(c),r.resolvedOptions.compilerOptions,r.resolvedOptions.tsconfig),e.options.call(this,u)},transform(u,c){if(!me.test(c))return null;const A=v(i=>{if(i.program){const t=w.dirname(c);i.program.getSourceFiles().map(o=>o.fileName).filter(o=>o.startsWith(t)).forEach(this.addWatchFile)}},"watchFiles"),f=v(()=>{const i=he(r,c,u);return i?(A(i),e.transform.call(this,i.code,c)):null},"handleDtsFile"),m=v(()=>{const i=c.replace(me,Ie);let t=he(r,i,u);return t?(A(t),e.transform.call(this,t.code,i)):null},"treatTsAsDts"),n=v(()=>{const i=he(r,c,u);if(!i||!i.source||!i.program)return null;A(i);const t=c.replace(me,Ie);let s;const{emitSkipped:o,diagnostics:d}=i.program.emit(i.source,(a,h)=>{s=e.transform.call(this,h,t)},void 0,!0);if(o){const a=d.filter(h=>h.category===l.DiagnosticCategory.Error);a.length&&(console.error(l.formatDiagnostics(a,ce)),this.error("Failed to compile. Check the logs above."))}return s},"generateDtsFromTs");return X.test(c)?f():m()??n()},resolveId(u,c){if(!c)return;c=c.split("\\").join("/");let A=r.resolvedOptions.compilerOptions;if(r.resolvedOptions.tsconfig){const m=u.startsWith(".")?w.resolve(w.dirname(c),u):u;A=pe(m,r.resolvedOptions.compilerOptions,r.resolvedOptions.tsconfig).compilerOptions}const{resolvedModule:f}=l.resolveModuleName(u,c,A,l.sys);if(f)return!r.resolvedOptions.respectExternal&&f.isExternalLibraryImport?{id:u,external:!0}:{id:w.resolve(f.resolvedFileName)}}}},"plugin");export{Ge as default,Ge as dts};
